{% extends "layout.html" %}

<!-- 400 error could be because of wrong script -- check cdnjs for script tags to replace-->
{% block head %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>


{% endblock %}

{% block content %}
<h1 class="search-title">{{ q }}</h1>
<div>
    <div id="priceChart"></canvas>
</div>

<script src="../static/js/search_result.js"></script>
<script>
    let graph = {{price_chart_json | safe}};
    config = {responsive: true,
    scrollZoom: true,
    displayModeBar: true,
    displayLogo: false};
    Plotly.setPlotConfig(config)
    Plotly.plot('priceChart', graph);
</script>

{% endblock %}